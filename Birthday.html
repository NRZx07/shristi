<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Happy Appearance Day Shristu!</title>
  <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Poppins&display=swap" rel="stylesheet">
  <style>
    body {
      margin: 0;
      padding: 20px; /* Added padding */
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(270deg, #ffb6c1, #ffc0cb, #ffe0e9, #ffd1dc);
      background-size: 800% 800%;
      animation: gradientAnimation 20s ease infinite;
      color: #333;
      text-align: center;
      min-height: 100vh; /* Changed from height to min-height */
      position: relative;
      overflow-x: hidden; /* Changed from overflow: hidden */
    }
    @keyframes gradientAnimation {
      0% {background-position: 0% 50%;}
      50% {background-position: 100% 50%;}
      100% {background-position: 0% 50%;}
    }
    h1 {
      font-family: 'Pacifico', cursive;
      font-size: 3em;
      margin-top: 30px;
      color: #d6336c;
      z-index: 2;
      position: relative;
    }
    .message {
      margin: 20px;
      font-size: 1.2em;
      z-index: 2;
      position: relative;
    }
    .typing {
      margin: 20px;
      font-size: 1.5em;
      font-weight: bold;
      color: #5d2c38;
      min-height: 60px;
      z-index: 2;
      position: relative;
    }
    .slideshow {
      position: relative;
      width: 90%; /* Increased width */
      max-width: 600px; /* Increased max-width */
      margin: 30px auto;
      box-shadow: 0 8px 20px rgba(0,0,0,0.3);
      border-radius: 20px;
      overflow: hidden; /* Keep this for rounded corners */
      z-index: 2;
      height: 400px; /* Fixed height for consistency */
    }
    .slideshow img {
      width: 100%;
      height: 100%;
      object-fit: cover; /* Changed to cover for better filling */
      position: absolute;
      top: 0;
      left: 0;
      opacity: 0;
      transition: opacity 1s ease-in-out;
    }
    .slideshow img.active {
      opacity: 1;
    }
    .footer {
      margin: 30px 0;
      padding-bottom: 40px; /* Added padding */
      font-size: 1.5em;
      font-weight: bold;
      color: #6f1d1b;
      z-index: 2;
      position: relative;
    }
    canvas {
      position: fixed;
      top: 0;
      left: 0;
      pointer-events: none;
      z-index: 1;
    }
    /* Start Button */
    .start-overlay {
      position: fixed;
      top: 0; left: 0;
      width: 100%;
      height: 100%;
      background: #fff0f5;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      z-index: 999;
    }
    .start-overlay button {
      padding: 15px 30px;
      font-size: 1.5em;
      font-family: 'Pacifico', cursive;
      background: #ff69b4;
      color: white;
      border: none;
      border-radius: 30px;
      cursor: pointer;
      box-shadow: 0 8px 20px rgba(0,0,0,0.3);
      transition: background 0.3s;
    }
    .start-overlay button:hover {
      background: #ff1493;
    }
  </style>
</head>
<body>

<!-- Start Overlay -->
<div class="start-overlay" id="startOverlay">
  <h2>ðŸŒ¸ Tap to Start the Birthday Magic ðŸŒ¸</h2>
  <button onclick="startBirthday()">Start</button>
</div>

<canvas id="canvas"></canvas>

<h1>Happy Appearance Day Shristu!</h1>

<div class="message">You will always be special, thanks for the love and support. Happy Appearance Day, Shristu!</div>

<div class="typing" id="typingText"></div>

<div class="slideshow">
  <img class="active" src="photo1.jpg" alt="Memory 1">
  <img src="photo2.jpg" alt="Memory 2">
  <img src="photo3.jpg" alt="Memory 3">
  <img src="photo4.jpg" alt="Memory 4">
  <img src="photo5.jpg" alt="Memory 5">
  <img src="photo6.jpg" alt="Memory 6">
  <img src="photo7.jpg" alt="Memory 7">
</div>

<div class="footer">    
  Happy Birthday shrstu!ðŸŽ‰<br>
  Love you always, Shristu! ðŸŽ€</div>

<!-- Birthday Music -->
<audio id="birthdayMusic" loop>
  <source src="Real.mp3" type="audio/mpeg">
</audio>

<script>
// Start Birthday
function startBirthday() {
  document.getElementById('startOverlay').style.display = 'none';
  const music = document.getElementById('birthdayMusic');
  music.play().catch(e => console.log("Autoplay prevented:", e));
  startTyping();
  launchFireworks();
}

// Typing Text
const text = "ðŸŽ‚ May your day be filled with love, joy, and sweet memories, Shristu! ðŸŽ‚";
let index = 0;
function startTyping() {
  const typingDiv = document.getElementById("typingText");
  const speed = 80;
  function type() {
    if (index < text.length) {
      typingDiv.innerHTML += text.charAt(index);
      index++;
      setTimeout(type, speed);
    }
  }
  type();
}

// Hearts and Fireworks Background
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");
let width = window.innerWidth;
let height = document.body.scrollHeight; /* Changed to document height */
canvas.width = width;
canvas.height = height;

const hearts = [];
const fireworks = [];

function createHeart() {
  return {
    x: Math.random() * width,
    y: height + 20,
    size: Math.random() * 20 + 10,
    speedY: Math.random() * 1 + 0.5,
    color: `hsl(${Math.random() * 360}, 100%, 75%)`
  };
}

for (let i = 0; i < 80; i++) {
  hearts.push(createHeart());
}

function drawHeart(x, y, size, color) {
  ctx.save();
  ctx.translate(x, y);
  ctx.scale(size / 20, size / 20);
  ctx.beginPath();
  ctx.moveTo(0, 0);
  ctx.bezierCurveTo(0, -3, -5, -15, -25, -15);
  ctx.bezierCurveTo(-55, -15, -55, 22.5, -55, 22.5);
  ctx.bezierCurveTo(-55, 40, -35, 62, 0, 80);
  ctx.bezierCurveTo(35, 62, 55, 40, 55, 22.5);
  ctx.bezierCurveTo(55, 22.5, 55, -15, 25, -15);
  ctx.bezierCurveTo(10, -15, 0, -3, 0, 0);
  ctx.closePath();
  ctx.fillStyle = color;
  ctx.fill();
  ctx.restore();
}

// Fireworks
function launchFireworks() {
  setInterval(() => {
    const x = Math.random() * width;
    const y = Math.random() * height / 2;
    for (let i = 0; i < 20; i++) {
      fireworks.push({
        x: x,
        y: y,
        angle: Math.random() * 2 * Math.PI,
        speed: Math.random() * 5 + 2,
        radius: Math.random() * 3 + 2,
        alpha: 1,
        decay: Math.random() * 0.02 + 0.01,
        color: `hsl(${Math.random() * 360}, 100%, 50%)`
      });
    }
  }, 1000);
}

function drawFireworks() {
  fireworks.forEach((f, index) => {
    ctx.beginPath();
    ctx.arc(f.x, f.y, f.radius, 0, Math.PI * 2);
    ctx.fillStyle = `rgba(${hexToRgb(f.color)},${f.alpha})`;
    ctx.fill();
    f.x += Math.cos(f.angle) * f.speed;
    f.y += Math.sin(f.angle) * f.speed;
    f.alpha -= f.decay;
    if (f.alpha <= 0) fireworks.splice(index, 1);
  });
}

function hexToRgb(hsl) {
  const tmp = document.createElement("div");
  tmp.style.color = hsl;
  document.body.appendChild(tmp);
  const rgb = window.getComputedStyle(tmp).color;
  document.body.removeChild(tmp);
  return rgb.match(/\d+/g).join(',');
}

function animate() {
  ctx.clearRect(0, 0, width, height);

  hearts.forEach((heart, index) => {
    heart.y -= heart.speedY;
    drawHeart(heart.x, heart.y, heart.size, heart.color);
    if (heart.y < -100) hearts[index] = createHeart();
  });

  drawFireworks();

  requestAnimationFrame(animate);
}
animate();

// Handle window resize
window.addEventListener('resize', () => {
  width = window.innerWidth;
  height = document.body.scrollHeight;
  canvas.width = width;
  canvas.height = height;
});

// Slideshow
let current = 0;
const images = document.querySelectorAll(".slideshow img");
function nextSlide() {
  images[current].classList.remove("active");
  current = (current + 1) % images.length;
  images[current].classList.add("active");
}
setInterval(nextSlide, 4000);

// Preload images for smoother transitions
window.onload = function() {
  images.forEach(img => {
    const image = new Image();
    image.src = img.src;
  });
};
</script>

</body>
</html>